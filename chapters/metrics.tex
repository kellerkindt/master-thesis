\section{Evaluation}

The main focus of Winslow is to improve the efficiency in utilizing available hardware.
Without it, new stages were seldom started at outside of the work time.
To estimate whether Winslow is providing any improvements, the actions that are scheduled by Winslow outside of these hours are to be watched.

The following graphs are based on activity metrics, that were logged in the time period from the first usage in mid January 2019 until counter actions for COVID-19 in early March 2019 prevented active use due to the lock-down in Germany.
For each day of the week and hour of the day an associated cell shows the activity colour encoded.
Furthermore, red lines show the begin and end of a typical work day.
Interestingly, the actual position of these red lines can also be inferred by the graphs themselves, due to activity spikes.


\begin{figure}[H]
	\centering
	\begin{tikzpicture}
		\begin{axis}[
			colormap/cool,
			colorbar,
			view={0}{90},
			xtick={1,3,5,7,9,11,13,15,17,19,21,23},
			ytick={1,2,3,4,5,6,7},yticklabels={Mo,Tu,We,Th,Fr,Sa,Su},
			ylabel={day of week},
			xlabel={hour of day},
			point meta max=0,
			point meta max=30,
			point meta=explicit,
			y dir=reverse,
			width=1.0\textwidth,
			height=0.5\textwidth]
			%			\addplot3[surf, shader=flat corner,mesh/cols=24,mesh/rows=7] table[x=hour, y=day, z=value, col sep=semicolon] {auto_starting.csv};
			\addplot[matrix plot*,mesh/cols=24,mesh/rows=7,shader=flat corner] table[x=hour,y=day,meta=value, col sep=semicolon] {active.csv};
			\addplot[mark=none, red] coordinates {(7.5,0) (7.5,8)};
			\addplot[mark=none, red] coordinates {(16.5,0) (16.5,8)};
		\end{axis}
	\end{tikzpicture}
	\caption{Actively running stages at a given day of the week and time of day}
	\label{metric:all_running}
\end{figure}

At first, \autoref{metric:all_running} and \autoref{metric:all_started} show the overall activity.
In \autoref{metric:all_running} number of running stages per hour is shown and in \autoref{metric:all_started} the number of started stages per hour is shown.
The increased activity between the read line - within the working hours - is visible.
But especially in \autoref{metric:all_started} the activity outside these times is visible as well.

\begin{figure}[H]
	\centering
	\begin{tikzpicture}
		\begin{axis}[
			colormap/cool,
			colorbar,
			view={0}{90},
			xtick={1,3,5,7,9,11,13,15,17,19,21,23},
			ytick={1,2,3,4,5,6,7},yticklabels={Mo,Tu,We,Th,Fr,Sa,Su},
			ylabel={day of week},
			xlabel={hour of day},
			point meta max=0,
			point meta max=30,
			point meta=explicit,
			y dir=reverse,
			width=1.0\textwidth,
			height=0.5\textwidth]
			%			\addplot3[surf, shader=flat corner,mesh/cols=24,mesh/rows=7] table[x=hour, y=day, z=value, col sep=semicolon] {auto_starting.csv};
			\addplot[matrix plot*,mesh/cols=24,mesh/rows=7,shader=flat corner] table[x=hour,y=day,meta=value, col sep=semicolon] {starting.csv};
			\addplot[mark=none, red] coordinates {(7.5,0) (7.5,8)};
			\addplot[mark=none, red] coordinates {(16.5,0) (16.5,8)};
		\end{axis}
	\end{tikzpicture}
	\caption{Stages starting at a given day of the week and time of day}
	\label{metric:all_started}
\end{figure}

\autoref{metrics:auto_running} and \autoref{metrics:auto_started} show only stages that were triggered by Winslow, without a direct user input.




\begin{figure}[H]
	\centering
	\begin{tikzpicture}
		\begin{axis}[
			colormap/cool,
			colorbar,
			view={0}{90},
			xtick={1,3,5,7,9,11,13,15,17,19,21,23},
			ytick={1,2,3,4,5,6,7},yticklabels={Mo,Tu,We,Th,Fr,Sa,Su},
			ylabel={day of week},
			xlabel={hour of day},
			point meta max=0,
			point meta max=30,
			point meta=explicit,
			y dir=reverse,
			width=1.0\textwidth,
			height=0.5\textwidth]
			%			\addplot3[surf, shader=flat corner,mesh/cols=24,mesh/rows=7] table[x=hour, y=day, z=value, col sep=semicolon] {auto_starting.csv};
			\addplot[matrix plot*,mesh/cols=24,mesh/rows=7,shader=flat corner] table[x=hour,y=day,meta=value, col sep=semicolon] {auto_active.csv};
			\addplot[mark=none, red] coordinates {(7.5,0) (7.5,8)};
			\addplot[mark=none, red] coordinates {(16.5,0) (16.5,8)};
		\end{axis}
	\end{tikzpicture}
	\caption{Actively running stages at a given day of the week and time of day which were started automatically}
	\label{metrics:auto_running}
\end{figure}

\autoref{metric:all_running} clearly shows that there is quite a bit of activity event without direct user input.
This is especially obvious by looking at \autoref{metrics:auto_started}: there are many stages started in the late evening and until midnight as well as a second wave at about one o'clock in the morning and activity on Saturdays.
Without Winslow these stages would not have been triggered.

That the system was actively used to schedule work to be executed on the weekends.
This can be seen in \autoref{metrics:auto_started} by highlighted areas late hours on Fridays, early and late hours on Saturdays as well as the continuous but decreasing overall activity from Saturday to Sunday in \autoref{metrics:auto_running}.
The gap of activity on Mondays at around noon in \autoref{metrics:auto_running} could indicate that the results were evaluated at here.

\begin{figure}[H]
	\centering
	\begin{tikzpicture}
		\begin{axis}[
			colormap/cool,
			colorbar,
			view={0}{90},
			xtick={1,3,5,7,9,11,13,15,17,19,21,23},
			ytick={1,2,3,4,5,6,7},yticklabels={Mo,Tu,We,Th,Fr,Sa,Su},
			ylabel={day of week},
			xlabel={hour of day},
			point meta max=0,
			point meta max=30,
			point meta=explicit,
			y dir=reverse,
			width=1.0\textwidth,
			height=0.5\textwidth]
%			\addplot3[surf, shader=flat corner,mesh/cols=24,mesh/rows=7] table[x=hour, y=day, z=value, col sep=semicolon] {auto_starting.csv};
	       	\addplot[matrix plot*,mesh/cols=24,mesh/rows=7,shader=flat corner] table[x=hour,y=day,meta=value, col sep=semicolon] {auto_starting.csv};
	       	\addplot[mark=none, red] coordinates {(7.5,0) (7.5,8)};
	       	\addplot[mark=none, red] coordinates {(16.5,0) (16.5,8)};
		\end{axis}
	\end{tikzpicture}
	\caption{Stages automatically starting at a given day of the week and time of day}
	\label{metrics:auto_started}
\end{figure}


\todo{to be added: table with more numbers, overall hours, hours in working time, hours outside working time, percentage of stages additionally executed thanks to Winslow, hours won by using Winslow...}

\todo{table of number of stages executed, number of projects, manual trigger, auto trigger, average/min/max time?}
\todo{percentage of stages triggered by user vs winslow}

\begin{comment}
\todo{remove figure below?}
\begin{figure}[H]
	\centering
	\begin{tikzpicture}
		\begin{axis}[
			ybar interval,
  			xtick=,% reset from ybar interval
			width=1.0\textwidth,
			height=0.6\textwidth,
			xmin=0
			]
			\addplot+[hist={data=x}] file {duration.csv};
		\end{axis}
	\end{tikzpicture}
	\centering
	\begin{tikzpicture}
		\begin{axis}[
			width=1.0\textwidth,
			height=0.2\textwidth,
			boxplot/draw direction=x,
			xmin=0,xmax=280
		]
		\addplot+[boxplot={average=auto,data=x}] file {duration.csv};
		\end{axis}
	\end{tikzpicture}
	\caption{Stages automatically starting at a given day of the week and time of day}
\end{figure}
\end{comment}


%maybe with error scenario: being able to dynamically execute a stage of another project instead of stalling

%\todo{hours spent in work time} \todo{hours spent outside of work time} \todo{percentage win}
